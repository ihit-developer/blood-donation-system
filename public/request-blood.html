<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Request Blood</title>

  <!-- Bootstrap -->
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<!-- ðŸŒ MAIN NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark shadow"
     style="background: linear-gradient(90deg, #b71c1c, #7f0000);">
  <div class="container">
    <a class="navbar-brand fw-bold" href="index.html">ðŸ©¸ Blood Donation System</a>

    <button class="navbar-toggler" type="button"
            data-bs-toggle="collapse"
            data-bs-target="#mainNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="mainNavbar">
      <ul class="navbar-nav ms-auto gap-lg-2">
        <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Donor</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="donor-register.html">Register as Donor</a></li>
            <li><a class="dropdown-item" href="donor-login.html">Donor Login</a></li>
          </ul>
        </li>

        <li class="nav-item"><a class="nav-link" href="request-blood.html">Request Blood</a></li>
        <li class="nav-item"><a class="nav-link" href="request-status.html">Request Status</a></li>
        <li class="nav-item"><a class="nav-link" href="request-history.html">Request History</a></li>

        <li class="nav-item">
          <a class="btn btn-light btn-sm text-danger fw-bold ms-lg-2" href="admin-login.html">Admin</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Header -->
<div class="bg-danger text-white text-center py-4">
  <h2>Request Blood</h2>
  <p class="mb-0">Fill the form below to request blood</p>
</div>

<!-- Form Section -->
<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card shadow-lg p-4">

        <h4 class="text-center text-danger mb-4">Blood Request Form</h4>

        <!-- ðŸ”´ FORM START -->
        <form action="/requests/add" method="POST">

          <div class="mb-3">
            <label class="form-label">Patient Name</label>
            <input type="text" name="patientName" class="form-control"
                   placeholder="Enter patient name" required>
          </div>

          <div class="mb-3">
            <label class="form-label">Patient Age</label>
            <input type="number" name="age" class="form-control"
                   placeholder="Enter patient age" required>
          </div>

          <!-- âœ… EMAIL (ONLY ONCE) -->
          <div class="mb-3">
            <label class="form-label">Email Address</label>
            <input type="email" name="email" class="form-control"
                   placeholder="example@gmail.com" required>
          </div>

          <div class="mb-3">
            <label class="form-label">Required Blood Group</label>
            <select name="bloodGroup" class="form-select" required>
              <option value="">Select Blood Group</option>
              <option>A+</option><option>A-</option>
              <option>B+</option><option>B-</option>
              <option>AB+</option><option>AB-</option>
              <option>O+</option><option>O-</option>
            </select>
          </div>

          <div class="mb-3">
            <label class="form-label">Contact Number</label>
            <input type="text" name="contact" class="form-control"
                   pattern="[0-9]{11}" placeholder="03XXXXXXXXX" required>
          </div>

          <div class="mb-3">
            <label class="form-label">City</label>
            <input type="text" name="city" class="form-control"
                   placeholder="Enter city" required>
          </div>

          <!-- ðŸš¨ EMERGENCY REQUEST -->
          <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" name="emergency" value="true">
            <label class="form-check-label text-danger fw-bold">
              Emergency Request
            </label>
          </div>

          <button type="submit" class="btn btn-danger w-100 py-2">
            Submit Blood Request
          </button>

        </form>
        <!-- ðŸ”´ FORM END -->

      </div>
    </div>
  </div>
</div>

<!-- Compatibility Box -->
<div class="container">
  <div class="alert alert-info mt-2" id="compatibilityBox">
    Compatible donors will be shown after selection.
  </div>
</div>

<script>
const compatibility = {
  "A+": ["A+", "A-", "O+", "O-"],
  "A-": ["A-", "O-"],
  "B+": ["B+", "B-", "O+", "O-"],
  "B-": ["B-", "O-"],
  "AB+": ["All Blood Groups"],
  "AB-": ["AB-", "A-", "B-", "O-"],
  "O+": ["O+", "O-"],
  "O-": ["O-"]
};

document.querySelector("select[name='bloodGroup']").addEventListener("change", e => {
  const bg = e.target.value;
  document.getElementById("compatibilityBox").innerHTML =
    `<strong>Compatible Donors:</strong> ${compatibility[bg].join(", ")}`;
});
</script>

<!-- Footer -->
<footer class="bg-danger text-white text-center py-3">
  Â© 2026 Blood Donation System | Saving Lives Together
</footer>

</body>
</html>
